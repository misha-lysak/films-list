{"ast":null,"code":"import _toConsumableArray from\"/home/misha/projects/films-list/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import React from'react';import{useSelectData}from'./select.hook';import'./select.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Select=function Select(_ref){var _selectedOptions$;var handleSelectOption=_ref.handleSelectOption,options=_ref.options;var _useSelectData=useSelectData(handleSelectOption),isOpenSelect=_useSelectData.isOpenSelect,selectedOptions=_useSelectData.selectedOptions,handleOpenSelect=_useSelectData.handleOpenSelect,handleRemoveSelectedOption=_useSelectData.handleRemoveSelectedOption,setSelectOptions=_useSelectData.setSelectOptions;return/*#__PURE__*/_jsxs(\"div\",{className:\"selectWrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"select\",children:[(selectedOptions===null||selectedOptions===void 0?void 0:(_selectedOptions$=selectedOptions[0])===null||_selectedOptions$===void 0?void 0:_selectedOptions$.id)?selectedOptions===null||selectedOptions===void 0?void 0:selectedOptions.map(function(_ref2){var id=_ref2.id,name=_ref2.name;return/*#__PURE__*/_jsxs(\"div\",{className:\"chosenOptionsWrapper\",onClick:function onClick(){return handleRemoveSelectedOption(id);},children:[/*#__PURE__*/_jsx(\"span\",{className:\"chosenOptionName\",children:name}),/*#__PURE__*/_jsx(\"div\",{className:\"deleteChosenOption\",children:\"+\"})]},id);}):/*#__PURE__*/_jsx(\"p\",{className:\"emptyValue\",children:\"Choose some category\"}),/*#__PURE__*/_jsx(\"div\",{className:\"toggleOpenSelect\",onClick:function onClick(){return handleOpenSelect();},children:\"\\u27BE\"})]}),isOpenSelect&&/*#__PURE__*/_jsx(\"div\",{className:\"optionsWrapper\",children:options.filter(function(option){return!(selectedOptions===null||selectedOptions===void 0?void 0:selectedOptions.some(function(sOption){return sOption.id===option.id;}));}).map(function(_ref3){var id=_ref3.id,name=_ref3.name;return/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){handleSelectOption({genresIds:[].concat(_toConsumableArray(selectedOptions.map(function(sOption){return sOption.id;})),[id])});setSelectOptions(function(prev){return[].concat(_toConsumableArray(prev),[{id:id,name:name}]);});handleOpenSelect();},className:\"option\",children:name},id);})})]});};export var MemoSelect=/*#__PURE__*/React.memo(Select);","map":{"version":3,"sources":["/home/misha/projects/films-list/src/components/select/select.tsx"],"names":["React","useSelectData","Select","handleSelectOption","options","isOpenSelect","selectedOptions","handleOpenSelect","handleRemoveSelectedOption","setSelectOptions","id","map","name","filter","option","some","sOption","genresIds","prev","MemoSelect","memo"],"mappings":"0HAAA,MAAOA,CAAAA,KAAP,KAA0B,OAA1B,CACA,OAASC,aAAT,KAA8B,eAA9B,CACA,MAAO,eAAP,C,wFAGA,GAAMC,CAAAA,MAAuB,CAAG,QAA1BA,CAAAA,MAA0B,MAAqC,0BAAlCC,CAAAA,kBAAkC,MAAlCA,kBAAkC,CAAdC,OAAc,MAAdA,OAAc,CACnE,mBAMIH,aAAa,CAACE,kBAAD,CANjB,CACEE,YADF,gBACEA,YADF,CAEEC,eAFF,gBAEEA,eAFF,CAGEC,gBAHF,gBAGEA,gBAHF,CAIEC,0BAJF,gBAIEA,0BAJF,CAKEC,gBALF,gBAKEA,gBALF,CAQA,mBACE,aAAK,SAAS,CAAC,eAAf,wBACE,aAAK,SAAS,CAAC,QAAf,WACG,CAAAH,eAAe,OAAf,EAAAA,eAAe,SAAf,2BAAAA,eAAe,CAAG,CAAH,CAAf,8DAAsBI,EAAtB,EACCJ,eADD,SACCA,eADD,iBACCA,eAAe,CAAEK,GAAjB,CAAqB,mBAAGD,CAAAA,EAAH,OAAGA,EAAH,CAAOE,IAAP,OAAOA,IAAP,oBACnB,aAEE,SAAS,CAAC,sBAFZ,CAGE,OAAO,CAAE,yBAAMJ,CAAAA,0BAA0B,CAACE,EAAD,CAAhC,EAHX,wBAKE,aAAM,SAAS,CAAC,kBAAhB,UAAoCE,IAApC,EALF,cAME,YAAK,SAAS,CAAC,oBAAf,eANF,GACOF,EADP,CADmB,EAArB,CADD,cAYC,UAAG,SAAS,CAAC,YAAb,kCAbJ,cAeE,YAAK,SAAS,CAAC,kBAAf,CAAkC,OAAO,CAAE,yBAAMH,CAAAA,gBAAgB,EAAtB,EAA3C,oBAfF,GADF,CAoBGF,YAAY,eACX,YAAK,SAAS,CAAC,gBAAf,UACGD,OAAO,CAACS,MAAR,CAAe,SAACC,MAAD,QAAY,EAACR,eAAD,SAACA,eAAD,iBAACA,eAAe,CAAES,IAAjB,CAAsB,SAACC,OAAD,QAAaA,CAAAA,OAAO,CAACN,EAAR,GAAeI,MAAM,CAACJ,EAAnC,EAAtB,CAAD,CAAZ,EAAf,EACEC,GADF,CACM,mBAAGD,CAAAA,EAAH,OAAGA,EAAH,CAAOE,IAAP,OAAOA,IAAP,oBACH,YAEE,OAAO,CAAE,kBAAM,CACbT,kBAAkB,CAAC,CACjBc,SAAS,8BAAMX,eAAe,CAACK,GAAhB,CAAoB,SAACK,OAAD,QAAaA,CAAAA,OAAO,CAACN,EAArB,EAApB,CAAN,GAAoDA,EAApD,EADQ,CAAD,CAAlB,CAGAD,gBAAgB,CAAC,SAACS,IAAD,qCACZA,IADY,GAEf,CAAER,EAAE,CAAFA,EAAF,CAAME,IAAI,CAAJA,IAAN,CAFe,IAAD,CAAhB,CAIAL,gBAAgB,GACjB,CAXH,CAYE,SAAS,CAAC,QAZZ,UAcGK,IAdH,EACOF,EADP,CADG,EADN,CADH,EArBJ,GADF,CA8CD,CAvDD,CAyDA,MAAO,IAAMS,CAAAA,UAAU,cAAGnB,KAAK,CAACoB,IAAN,CAAWlB,MAAX,CAAnB","sourcesContent":["import React, { FC } from 'react';\nimport { useSelectData } from './select.hook';\nimport './select.scss';\nimport { SelectProps } from './select.types';\n\nconst Select: FC<SelectProps> = ({ handleSelectOption, options }) => {\n  const {\n    isOpenSelect,\n    selectedOptions,\n    handleOpenSelect,\n    handleRemoveSelectedOption,\n    setSelectOptions,\n  } = useSelectData(handleSelectOption);\n\n  return (\n    <div className=\"selectWrapper\">\n      <div className=\"select\">\n        {selectedOptions?.[0]?.id ? (\n          selectedOptions?.map(({ id, name }) => (\n            <div\n              key={id}\n              className=\"chosenOptionsWrapper\"\n              onClick={() => handleRemoveSelectedOption(id)}\n            >\n              <span className=\"chosenOptionName\">{name}</span>\n              <div className=\"deleteChosenOption\">+</div>\n            </div>\n          ))\n        ) : (\n          <p className=\"emptyValue\">Choose some category</p>\n        )}\n        <div className=\"toggleOpenSelect\" onClick={() => handleOpenSelect()}>\n          &#x27BE;\n        </div>\n      </div>\n      {isOpenSelect && (\n        <div className=\"optionsWrapper\">\n          {options.filter((option) => !selectedOptions?.some((sOption) => sOption.id === option.id))\n            .map(({ id, name }) => (\n              <div\n                key={id}\n                onClick={() => {\n                  handleSelectOption({\n                    genresIds: [...selectedOptions.map((sOption) => sOption.id), id],\n                  });\n                  setSelectOptions((prev: { id: number; name: string }[]) => [\n                    ...prev,\n                    { id, name },\n                  ]);\n                  handleOpenSelect();\n                }}\n                className=\"option\"\n              >\n                {name}\n              </div>\n            ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport const MemoSelect = React.memo(Select);\n"]},"metadata":{},"sourceType":"module"}