{"ast":null,"code":"import axios from 'axios';\nconst API_KEY = '55603383b6e7d248eaf4b2df9f74c6ec';\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst GENRES_URL = `${BASE_URL}//genre/movie/list?api_key=${API_KEY}&language=en-US`;\nconst MOVIE_URL = `${BASE_URL}/discover/movie?api_key=${API_KEY}&language=en-US`;\nconst loader = {\n  movie: false,\n  genres: false\n};\nconst getMovies = axios.create({\n  baseURL: MOVIE_URL,\n  responseType: 'json'\n});\nconst getGenresHTTP = axios.create({\n  baseURL: GENRES_URL,\n  responseType: 'json'\n});\n\nconst getGenres = async (url, setState) => {\n  loader.genres = true;\n  return getGenresHTTP.get(url).then(response => {\n    setState(response.data.genres);\n    loader.genres = false;\n  });\n};\n\nconst getFilms = async (url, setState) => {\n  loader.movie = true;\n  return getMovies.get(url).then(response => {\n    setState(response.data);\n    loader.movie = true;\n  });\n};\n\nexport { getFilms, getGenres, MOVIE_URL };","map":{"version":3,"sources":["/home/misha/projects/films-list/src/api.ts"],"names":["axios","API_KEY","BASE_URL","GENRES_URL","MOVIE_URL","loader","movie","genres","getMovies","create","baseURL","responseType","getGenresHTTP","getGenres","url","setState","get","then","response","data","getFilms"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,OAAO,GAAG,kCAAhB;AACA,MAAMC,QAAQ,GAAG,8BAAjB;AACA,MAAMC,UAAU,GAAI,GAAED,QAAS,8BAA6BD,OAAQ,iBAApE;AACA,MAAMG,SAAS,GAAI,GAAEF,QAAS,2BAA0BD,OAAQ,iBAAhE;AACA,MAAMI,MAAM,GAAG;AACbC,EAAAA,KAAK,EAAE,KADM;AAEbC,EAAAA,MAAM,EAAE;AAFK,CAAf;AAKA,MAAMC,SAAS,GAAGR,KAAK,CAACS,MAAN,CAAa;AAC7BC,EAAAA,OAAO,EAAEN,SADoB;AAE7BO,EAAAA,YAAY,EAAE;AAFe,CAAb,CAAlB;AAKA,MAAMC,aAAa,GAAGZ,KAAK,CAACS,MAAN,CAAa;AACjCC,EAAAA,OAAO,EAAEP,UADwB;AAEjCQ,EAAAA,YAAY,EAAE;AAFmB,CAAb,CAAtB;;AAKA,MAAME,SAAS,GAAG,OAAOC,GAAP,EAAoBC,QAApB,KAAoD;AACpEV,EAAAA,MAAM,CAACE,MAAP,GAAgB,IAAhB;AACA,SAAOK,aAAa,CAACI,GAAd,CAAkBF,GAAlB,EAAuBG,IAAvB,CAA6BC,QAAD,IAAmB;AACpDH,IAAAA,QAAQ,CAACG,QAAQ,CAACC,IAAT,CAAcZ,MAAf,CAAR;AACAF,IAAAA,MAAM,CAACE,MAAP,GAAgB,KAAhB;AACD,GAHM,CAAP;AAID,CAND;;AAQA,MAAMa,QAAQ,GAAG,OAAON,GAAP,EAAoBC,QAApB,KAAoD;AACnEV,EAAAA,MAAM,CAACC,KAAP,GAAe,IAAf;AACA,SAAOE,SAAS,CAACQ,GAAV,CAAcF,GAAd,EAAmBG,IAAnB,CAAyBC,QAAD,IAAc;AAC3CH,IAAAA,QAAQ,CAACG,QAAQ,CAACC,IAAV,CAAR;AACAd,IAAAA,MAAM,CAACC,KAAP,GAAe,IAAf;AAED,GAJM,CAAP;AAKD,CAPD;;AASA,SAASc,QAAT,EAAmBP,SAAnB,EAA8BT,SAA9B","sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '55603383b6e7d248eaf4b2df9f74c6ec';\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst GENRES_URL = `${BASE_URL}//genre/movie/list?api_key=${API_KEY}&language=en-US`;\nconst MOVIE_URL = `${BASE_URL}/discover/movie?api_key=${API_KEY}&language=en-US`;\nconst loader = {\n  movie: false,\n  genres: false,\n};\n\nconst getMovies = axios.create({\n  baseURL: MOVIE_URL,\n  responseType: 'json',\n});\n\nconst getGenresHTTP = axios.create({\n  baseURL: GENRES_URL,\n  responseType: 'json',\n});\n\nconst getGenres = async (url: string, setState: (re: any) => void) => {\n  loader.genres = true;\n  return getGenresHTTP.get(url).then((response: any) => {\n    setState(response.data.genres);\n    loader.genres = false;\n  });\n};\n\nconst getFilms = async (url: string, setState: (re: any) => void) => {\n  loader.movie = true;\n  return getMovies.get(url).then((response) => {\n    setState(response.data);\n    loader.movie = true;\n    \n  });\n};\n\nexport { getFilms, getGenres, MOVIE_URL };\n"]},"metadata":{},"sourceType":"module"}